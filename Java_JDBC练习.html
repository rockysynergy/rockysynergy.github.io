

<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A blog from rockyou">
    <title>Blog &ndash; Layout Examples &ndash; Pure</title>
    
    <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css" integrity="sha384-nn4HPE8lTHyVtfCBi5yW9d20FjT8BJwUXyWZT9InLYax14RDjBj46LmSztkmNP9w" crossorigin="anonymous">
    
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/grids-responsive-min.css">
    <!--<![endif]-->
    
    
        <!--[if lte IE 8]>
            <link rel="stylesheet" href="./css/main-old-ie.css">
        <![endif]-->
        <!--[if gt IE 8]><!-->
            <link rel="stylesheet" href="./css/main.css">
        <!--<![endif]-->
    <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script>
    <![endif]-->

</head>
<body>
    <div id="layout" class="pure-g">
            <div class="sidebar pure-u-1 pure-u-md-1-4">
                <div class="header">
                    <h1 class="brand-title">Rocky's Blog</h1>
                    <h2 class="brand-tagline">Coding Web applications to change lives!</h2>
        
                    <nav class="nav">
                        <ul class="nav-list">
                            <li class="nav-item">
                                <a class="pure-button" href="./index.html">主页</a>
                            </li>
                            <li class="nav-item">
                                <a class="pure-button" href="./about.html">简介</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        
            <div class="content pure-u-1 pure-u-md-3-4">
                <div>
                    
    <article>
        <header class="post-header">
            <h1 class="post-title">Java JDBC练习</h1>
            <p class="post-meta">
                更新于：2019-10-13 17:34:36
                

    
            
                <a class="post-category post-category-zero" href="Maven.html">
                    Maven
                </a>
            
        

    
            
                <a class="post-category post-category-one" href="Tomcat.html">
                    Tomcat
                </a>
            
        

    
            
                <a class="post-category post-category-two" href="Java.html">
                    Java
                </a>
            
        

            </p>
        </header>
        <h2>准备</h2>
<ul>
<li>安装Mysql Server</li>
<li>下载Mysql connector (mysql-connector-java-8.0.17.zip)[<a href="https://dev.mysql.com/downloads/connector/j/5.1.html">https://dev.mysql.com/downloads/connector/j/5.1.html</a>]</li>
<li>创建数据库和数据库表</li>
</ul>
<h2>练习使用</h2>
<ol>
<li>使用Ecllipse创建maven quickstart项目（或者普通项目）</li>
<li>引入mysql-connector. 
2.1 <code>maven项目</code>可以使用以下依赖</li>
</ol>
<pre><code class="language-XML">    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.16&lt;/version&gt;
    &lt;/dependency&gt;</code></pre>
<p>2.2 如果使用下载的connector。File-&gt;import-&gt;File System 导入jar包，然后右键单击刚刚导入的jar包-&gt;build path -&gt; Add to Build Path。 另外也可以右键单击项目-&gt; Properties -&gt; Java Build Path -&gt; Libraries-&gt; Add External JARs</p>
<ol start="3">
<li><code>Java</code>代码</li>
</ol>
<pre><code class="language-Java">  package com.kmenpin.jdbc.practice;

  import java.sql.Connection;
  import java.sql.DriverManager;
  import java.sql.ResultSet;
  import java.sql.SQLException;
  import java.sql.Statement;

  public class HelloJDBC {
  //    static final String JDBC_DRIVER = "com.mysql.jdbc.Driver";
    static final String JDBC_DRIVER = "com.mysql.cj.jdbc.Driver";
  //    static final String DB_URL = "jdbc:mysql://localhost:3306/jw_learn?useUnicode=true&amp;characterEncoding=UTF-8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=false&amp;serverTimezone=GMT";
    // 解决timezone异常的方法 1. 使用上面的DB_URL 2. 使用下面的DB_URL然后在MYSQL server使用set global time_zone = "+8:00";
    static final String DB_URL = "jdbc:mysql://localhost:3306/jw_learn";
    static final String USER = "root";
    static final String PASSWORD = "123456";

    public static void helloword() throws ClassNotFoundException {
      Connection conn = null;
      Statement stmt = null;
      ResultSet rs = null;

      // 1.装载驱动程序
      Class.forName(JDBC_DRIVER);
      // 2. 建立数据库连接
      try {
        conn = DriverManager.getConnection(DB_URL, USER, PASSWORD);
        // 3. 执行SQL语句
        stmt = conn.createStatement();
        rs = stmt.executeQuery("select user_name from user");

        //4.获取结果
        while(rs.next()) {
          System.out.println("Hellow"+rs.getString("user_name"));
        }
      } catch (SQLException e) {
        // TODO Auto-generated catch block
        e.printStackTrace();
      } finally {
        try {
          if (conn != null) conn.close();
          if (stmt != null) stmt.close();
          if (rs != null) rs.close();
        } catch (SQLException e) {
          // ignore
        }
      }
    }

    public static void main(String[] args) throws ClassNotFoundException {
      helloword();
    }
  }</code></pre>
    </article>

                </div>
            </div>
    </div>
</body>